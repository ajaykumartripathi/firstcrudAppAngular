
<div class="container-fluid">
    <div class="table-responsive">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-md-4">
                        <h2>User <b>Management</b></h2>
                    </div>
                    <!-- <div class="col-md-4">
                      <form [formGroup]='profile_pic' (ngSubmit)='onSend()'>
                        <div class="form-group">
                          <input type="number" class="form-control"  placeholder="user_id" formControlName='user_id'  >
                        </div>
                        <label for="exampleFormControlFile1">Upload Profile_Picture:</label>
                        <input type="file"   name='image' (change)='onFileUpload($event)'>
                        <button type="submit" class=" btn-primary">Save</button>
                      </form>
                  </div> -->
                    <div class="col-md-4 header">
                      <button type="button" class="btn btn-success" routerLink='/edituser' [queryParams]="{check:true}" >Add New User</button>
                        <button type="button" class="btn btn-success" (click)="onSubmit()">Show data</button>						
                    </div>
                </div>
            </div>
            <div class="row">
            <div class="col-md-12">
              <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>profile_pic</th>
                        <th>First Name</th>						
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Created_At</th>
                        <th>Delete</th>
                        <th>Edit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor='let data of dbdata;'>
            <td>{{data.id}}</td> 
            <td><img src="http://localhost:9000/uploads/{{data.profile_pic}}" alt="" class="img" onerror="this.src='../../../assets/defaultphoto.png'"></td>
            <td>{{data.first_name}}</td>
            <td>{{data.last_name}}</td>
            <td>{{data.email}}</td>
            <td>{{data.phone_number}}</td>
            <td>{{data.created_at | date}}</td>
            <td><button type="submit" class="btn btn-danger" (click)="ondelete(data.id)"><i class="fa fa-trash"></i></button></td>
            <td><button type="submit" class="btn btn-primary" routerLink='/edituser' [queryParams]="{id:data.id,firstname:data.first_name,lastname:data.last_name,email:data.email,phone:data.phone_number}" ><i class="fa fa-edit" ></i></button></td>
            <hr>
          </tr> 
                </tbody>
            </table>
            </div>
          </div>
        </div>
    </div>        
</div>     
<app-edit-user-data></app-edit-user-data>